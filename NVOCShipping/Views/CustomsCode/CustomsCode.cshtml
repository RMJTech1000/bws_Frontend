@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.full.min.js"></script>
<script type="text/javascript">

    LayoutApp.controller('MyController', function ($scope, $http, $timeout) {
        $(document).ready(function () {
            $('.my-select').select2({
                placeholder: "--Select--",
                allowClear: true,
                width: '100%'
            });
        });

        $scope.PortAllvalues = null;
        $scope.fillPortsValues = function () {
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/PortValues/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.PortAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillPortsValues();

        $scope.CustomerMasterAllvalues = null;
        $scope.fillCustomerMasterValues = function () {

            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/CustomerMaster/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.CustomerMasterAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillCustomerMasterValues();

        $scope.TerminalAllvalues = null;
        $scope.fillTerminalValues = function () {
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/TerminalMaster/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.TerminalAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillTerminalValues();

        $scope.CFSNameAllvalues = null;
        $scope.fillCFSNameValues = function () {
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/CFSDropDown/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.CFSNameAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillCFSNameValues();

        $scope.LocationAllvalues = null;
        $scope.fillLocationValues = function () {
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/LocationDropDown/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.LocationAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillLocationValues();

        $scope.TransporterNameAllvalues = null;
        $scope.fillTransporterNameValues = function () {
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/TransporterDropDown/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.TransporterNameAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillTransporterNameValues();

        $scope.EqTypeNameAllvalues = null;
        $scope.fillEqTypeNameValues = function () {
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/EqTypeDropDown/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.EqTypeNameAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillEqTypeNameValues();

        //Agent Code
        $scope.DynamicGridAgent = [{ PortName: "", LineCode: "", AgentCode: "", SOCode: "", PanNo: ""}];
        $scope.AgentAdd = function (DynamicGridAgent) {
            
            if (DynamicGridAgent.PortName == "") {
                swal("Please Select Port Name");
                return;
            }

            $scope.DynamicGridAgent.push({
                'PortName': "",
                'LineCode': "",
                'AgentCode': "",
                'SOCode': "",
                'PanNo': "",
            });
        }
        $scope.AgentRemove = function (DynamicGridAgent, index, AgentID) {
            var BussData = {}
            BussData.ID = AgentID;
          
            $scope.DynamicGridAgent.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/AgentDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridAgent.splice(index, AgentID);
                    $scope.FillExistingAgentCodeMaster($scope.RegAgentId);
                });
            });
        }
        $scope.btnSaveAgent = function (AgentData) {
            //var validation = "";
            //var ddlPortName = $('#ddlPortName').val();
            //if (ddlPortName == "?") {
            //    validation += "<span>Please Select Port Name</span></br>"
            //}
            //var txtLineCode = $('#txtLineCode').val();
            //if (txtLineCode == 0) {
            //    validation += "<span>Please Enter Line Code</span></br>"
            //}
            //var txtAgentCode = $('#txtAgentCode').val();
            //if (txtAgentCode == 0) {
            //    validation += "<span>Please Enter Agent Code</span></br>"
            //}
            //var txtSOCode = $('#txtSOCode').val();
            //if (txtSOCode == 0) {
            //    validation += "<span>Please Enter SOCode</span></br>"
            //}
            //var txtPanNo = $('#txtPanNo').val();
            //if (txtPanNo == 0) {
            //    validation += "<span>Please Enter Pan No</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var AgentItems = []
            if ($scope.RegAgentId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegAgentId;
            angular.forEach(AgentData, function (value, key) {
                
                AgentItems.push('Insert:' + AgentData[key].PortName.ID, AgentData[key].LineCode, AgentData[key].AgentCode, AgentData[key].SOCode, AgentData[key].PanNo);
                
            });
            BussData.AgentItems = AgentItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/AgentInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegAgentId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Agent Code Updated Successfully");
                    }
                    else {

                        ShowPopup("Agent Code Created Successfully");
                    }
                  
                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingAgentCodeMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegAgentId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/AgentCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].PortName != "") {
                            $scope.DynamicGridAgent.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridAgent.push({
                                'ID': result.data[key].ID,
                                'PortName': { ID: result.data[key].PortName },
                                'LineCode': result.data[key].LineCode,
                                'AgentCode': result.data[key].AgentCode,
                                'SOCode': result.data[key].SOCode,
                                'PanNo': result.data[key].PanNo
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingAgentCodeMaster();

        //Port Code
        $scope.DynamicGridPort = [{ PortID: "", UNCode: "", FloppyCode: ""}];
        $scope.PortAdd = function (DynamicGridPort) {

            if (DynamicGridPort.PortID == "") {
                swal("Please Select Port Name");
                return;
            }

            $scope.DynamicGridPort.push({
                'PortID': "",
                'UNCode': "",
                'FloppyCode': ""
            });
        }
        $scope.PortRemove = function (DynamicGridPort, index,PortID) {
            var BussData = {}
            BussData.ID = PortID;
           
            $scope.DynamicGridPort.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/PortDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridPort.splice(index, PortID);
                    $scope.FillExistingPortCodeMaster($scope.RegPortId);
                });
            });
        }
        $scope.btnSavePort = function (PortData) {
            //var validation = "";
            //var ddlPortName = $('#ddlPortName').val();
            //if (ddlPortName == "?") {
            //    validation += "<span>Please Select Port Name</span></br>"
            //}
            //var txtUNCode = $('#txtUNCode').val();
            //if (txtUNCode == 0) {
            //    validation += "<span>Please Enter UN Code</span></br>"
            //}
            //var txtFloppyCode = $('#txtFloppyCode').val();
            //if (txtFloppyCode == 0) {
            //    validation += "<span>Please Enter Floppy Code</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var PortItems = []
            if ($scope.RegPortId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegPortId;
            angular.forEach(PortData, function (value, key) {

                PortItems.push('Insert:' + PortData[key].PortID.ID, PortData[key].UNCode, PortData[key].FloppyCode);

            });
            BussData.PortItems = PortItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/PortInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegPortId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Port Code Updated Successfully");
                    }
                    else {

                        ShowPopup("Port Code Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingPortCodeMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegPortId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/PortCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].PortID != "") {
                            $scope.DynamicGridPort.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridPort.push({
                                'ID': result.data[key].ID,
                                'PortID': { ID: result.data[key].PortID },
                                'UNCode': result.data[key].UNCode,
                                'FloppyCode': result.data[key].FloppyCode,
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingPortCodeMaster();

        //Carrier Code
        $scope.DynamicGridCarrier = [{ CarrierID: "", Code: "", BondNo: "", PanNo: "" }];
        $scope.CarrierAdd = function (DynamicGridCarrier) {

            if (DynamicGridCarrier.CarrierID == "") {
                swal("Please Select Carrier Name");
                return;
            }

            $scope.DynamicGridCarrier.push({
                'CarrierID': "",
                'Code': "",
                'BondNo': "",
                'PanNo': ""
            });
        }
        $scope.CarrierRemove = function (DynamicGridCarrier, index, CarrierID) {
            var BussData = {}
            BussData.ID = CarrierID;
           
            $scope.DynamicGridCarrier.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/CarrierDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridCarrier.splice(index, CarrierID);
                    $scope.FillExistingPortCodeMaster($scope.RegCarrierId);
                });
            });
        }
        $scope.btnSaveCarrier = function (CarrierData) {
            //var validation = "";
            //var ddlCarrierName = $('#ddlCarrierName').val();
            //if (ddlCarrierName == "?") {
            //    validation += "<span>Please Select Carrier Name</span></br>"
            //}
            //var txtCode = $('#txtCode').val();
            //if (txtCode == 0) {
            //    validation += "<span>Please Enter Code</span></br>"
            //}
            //var txtBondNo = $('#txtBondNo').val();
            //if (txtBondNo == 0) {
            //    validation += "<span>Please Enter Bond No</span></br>"
            //}
            //var txtPanNo = $('#txtPanNo').val();
            //if (txtPanNo == 0) {
            //    validation += "<span>Please Enter Pan No</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var CarrierItems = []
            if ($scope.RegCarrierId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegCarrierId;
            angular.forEach(CarrierData, function (value, key) {

                CarrierItems.push('Insert:' + CarrierData[key].CarrierID.ID, CarrierData[key].Code, CarrierData[key].BondNo, CarrierData[key].PanNo);

            });
            BussData.CarrierItems = CarrierItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/CarrierInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegCarrierId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Carrier Code Updated Successfully");
                    }
                    else {

                        ShowPopup("Carrier Code Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingCarrierCodeMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegCarrierId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/CarrierCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].CarrierID != "") {
                            $scope.DynamicGridCarrier.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridCarrier.push({
                                'ID': result.data[key].ID,
                                'CarrierID': { ID: result.data[key].CarrierID },
                                'Code': result.data[key].Code,
                                'BondNo': result.data[key].BondNo,
                                'PanNo': result.data[key].PanNo,
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingCarrierCodeMaster();

        //Terminal Code
        $scope.DynamicGridTerminal = [{ TerminalID: "", PortID: "", MappingCode: ""}];
        $scope.TerminalAdd = function (DynamicGridTerminal) {

            if (DynamicGridTerminal.TerminalID == "") {
                swal("Please Select Terminal Name");
                return;
            }

            $scope.DynamicGridTerminal.push({
                'TerminalID': "",
                'PortID': "",
                'MappingCode': ""
            });
        }
        $scope.TerminalRemove = function (DynamicGridTerminal, index,TerminalID) {
            var BussData = {}
            BussData.ID = TerminalID;
           
            $scope.DynamicGridTerminal.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/TerminalDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridTerminal.splice(index, TerminalID);
                    $scope.FillExistingTerminalCodeMaster($scope.RegTerminalId);
                });
            });
        }
        $scope.btnSaveTerminal = function (TerminalData) {
            //var validation = "";
            //var ddlTerminalName = $('#ddlTerminalName').val();
            //if (ddlTerminalName == "?") {
            //    validation += "<span>Please Select Terminal Name</span></br>"
            //}
            //var ddlPortName = $('#ddlPortName').val();
            //if (ddlPortName == "?") {
            //    validation += "<span>Please Select Port Name</span></br>"
            //}
            //var txtMappingCode = $('#txtMappingCode').val();
            //if (txtMappingCode == 0) {
            //    validation += "<span>Please Mapping Code</span></br>"
            //}
         
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var TerminalItems = []
            if ($scope.RegTerminalId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegTerminalId;
            angular.forEach(TerminalData, function (value, key) {

                TerminalItems.push('Insert:' + TerminalData[key].TerminalID.ID, TerminalData[key].PortID.ID, TerminalData[key].MappingCode);

            });
            BussData.TerminalItems = TerminalItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/TerminalInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegTerminalId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Terminal Code Updated Successfully");
                    }
                    else {

                        ShowPopup("Terminal Code Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingTerminalCodeMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegTerminalId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/TerminalCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].TerminalID != "") {
                            $scope.DynamicGridTerminal.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridTerminal.push({
                                'ID': result.data[key].ID,
                                'TerminalID': { ID: result.data[key].TerminalID },
                                'PortID': { ID: result.data[key].PortID },
                                'MappingCode': result.data[key].MappingCode
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingTerminalCodeMaster();

        //CFS
        $scope.DynamicGridCFS = [{ CFSID: "", CFSCode: "", BondNo: "",IALCode: ""}];
        $scope.CFSAdd = function (DynamicGridCFS) {

            if (DynamicGridCFS.CFSID == "") {
                swal("Please Select CFS Name");
                return;
            }

            $scope.DynamicGridCFS.push({
                'CFSID': "",
                'CFSCode': "",
                'BondNo': "",
                'IALCode': ""
            });
        }
        $scope.CFSRemove = function (DynamicGridCFS, index, CFSID) {
            var BussData = {}
            BussData.ID = CFSID;
           
            $scope.DynamicGridCFS.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/CFSDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridCFS.splice(index, CFSID);
                    $scope.FillExistingCFSMaster($scope.RegCFSId);
                });
            });
        }
        $scope.btnSaveCFS = function (CFSData) {
            //var validation = "";
            //var ddlCFSName = $('#ddlCFSName').val();
            //if (ddlCFSName == "?") {
            //    validation += "<span>Please Select CFS Name</span></br>"
            //}
            
            //var txtCFSCode = $('#txtCFSCode').val();
            //if (txtCFSCode == 0) {
            //    validation += "<span>Please Enter CFS Code</span></br>"
            //}

            //var txtBondNo = $('#txtBondNo').val();
            //if (txtBondNo == 0) {
            //    validation += "<span>Please Enter Bond No</span></br>"
            //}
            //var txtIALCode = $('#txtIALCode').val();
            //if (txtIALCode == 0) {
            //    validation += "<span>Please Enter IAL Code</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var CFSItems = []
            if ($scope.RegCFSId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegCFSId;
            angular.forEach(CFSData, function (value, key) {

                CFSItems.push('Insert:' + CFSData[key].CFSID.ID, CFSData[key].CFSCode, CFSData[key].BondNo, CFSData[key].IALCode);

            });
            BussData.CFSItems = CFSItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/CFSInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegCFSId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("CFS Updated Successfully");
                    }
                    else {

                        ShowPopup("CFS Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingCFSMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegCFSId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/CFSView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].CFSID != "") {
                            $scope.DynamicGridCFS.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridCFS.push({
                                'ID': result.data[key].ID,
                                'CFSID': { ID: result.data[key].CFSID },
                                'CFSCode': result.data[key].CFSCode,
                                'BondNo': result.data[key].BondNo,
                                'IALCode': result.data[key].IALCode,
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingCFSMaster();

        //Package Code
        $scope.DynamicGridPack = [{ PackDes: "", GenCode: "", MappingCode: ""}];
        $scope.PackAdd = function (DynamicGridPack) {

            if (DynamicGridPack.PackDes == "") {
                swal("Please Enter Package Description");
                return;
            }
           
            $scope.DynamicGridPack.push({
                'PackDes': "",
                'GenCode': "",
                'MappingCode': ""
            });
        }
        $scope.PackRemove = function (index, PackID) {
            var BussData = {}
            BussData.ID = PackID;
           
            /*$scope.DynamicGridPack.splice(index, 1);*/
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/PackageDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                   /* $scope.DynamicGridPack.splice(index, PackID);*/
                    $scope.FillExistingPackageCodeMaster($("#ddlLocation").val());
                });
            });
        }
        $scope.btnSavePack = function (PackData) {
            //var validation = "";
            //var ddlLocation = $('#ddlLocation').val();
            //if (ddlLocation == "?") {
            //    validation += "<span>Please Select Location</span></br>"
            //}
            //var txtPackDes = $('#txtPackDes').val();
            //if (txtPackDes == 0) {
            //    validation += "<span>Please Enter Package Description</span></br>"
            //}

            //var txtGenCode = $('#txtGenCode').val();
            //if (txtGenCode == 0) {
            //    validation += "<span>Please Enter Gen Code</span></br>"
            //}
            //var txtMappingCode = $('#txtMappingCode').val();
            //if (txtMappingCode == 0) {
            //    validation += "<span>Please Enter Mapping Code</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var PackageItems = []
            if ($scope.RegPackId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegPackId;
            angular.forEach(PackData, function (value, key) {

                PackageItems.push('Insert:' + PackData[key].PackDes, PackData[key].GenCode, PackData[key].MappingCode);

            });
            BussData.PackageItems = PackageItems.toString();
            BussData.LocID = $("#ddlLocation").val();
           
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/PackageCodeInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegPackId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Package Code Updated Successfully");
                    }
                    else {

                        ShowPopup("Package Code Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }
        $scope.FillExistingPackageCodeMaster = function (LocID) {
            var Datavalue = {};
            Datavalue.LocID = LocID;
            Datavalue.ID = $scope.RegPackId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/PackageCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {
                    
                    if (result.data.length > 0) {
                        $scope.DynamicGridPack.length = 0;
                        if (result.data[0].PackDes != "") {
                            
                            $scope.DynamicGridPack.splice(0, 1);
                        }
                        
                        angular.forEach(result.data, function (value, key) {
                           
                            $scope.DynamicGridPack.push({
                                'ID': result.data[key].ID,
                                'PackDes': result.data[key].PackDescription,
                                'GenCode': result.data[key].GenCode,
                                'MappingCode': result.data[key].MappingCode,
                            });

                        });
                        $scope.ddlLocation = { ID: result.data[0].LocID };
                    }
                    else {
                        $scope.DynamicGridPack.length = 0;
                        $scope.DynamicGridPack.push({
                            'ID': "",
                            'PackDes': "",
                            'GenCode': "",
                            'MappingCode': ""
                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $("#ddlLocation").change(function () {
            var Datavalue = {};
            Datavalue.LocID = $("#ddlLocation").val();
           
            if ($("#ddlLocation").val() != "") {
               
                document.getElementById("divPackage").style.display = 'block';
             
                $scope.FillExistingPackageCodeMaster(Datavalue.LocID);
            }
            else {
               
                document.getElementById("divPackage").style.display = 'none';

            }

          
        });
       

        //Transporter
        $scope.DynamicGridTransporter = [{ TransporterID: "", Code: "", BondNo: "", PanNo: "" }];
        $scope.TransporterAdd = function (DynamicGridTransporter) {

            if (DynamicGridTransporter.TransporterID == "") {
                swal("Please Select Transporter Name");
                return;
            }

            $scope.DynamicGridTransporter.push({
                'TransporterID': "",
                'Code': "",
                'BondNo': "",
                'PanNo': ""
            });
        }
        $scope.TransporterRemove = function (DynamicGridTransporter, index, TransportID) {
            var BussData = {}
            BussData.ID = TransportID;
            
            $scope.DynamicGridTransporter.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/TransporterDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridTransporter.splice(index, TransportID);
                    $scope.FillExistingTransporterMaster($scope.RegTRId);
                });
            });
        }
        $scope.btnSaveTransporter = function (TransporterData) {
            //var validation = "";
            //var ddlTransporterName = $('#ddlTransporterName').val();
            //if (ddlTransporterName == "?") {
            //    validation += "<span>Please Select Transporter Name</span></br>"
            //}
            //var txtCode = $('#txtCode').val();
            //if (txtCode == 0) {
            //    validation += "<span>Please Enter Code</span></br>"
            //}

            //var txtBondNo = $('#txtBondNo').val();
            //if (txtBondNo == 0) {
            //    validation += "<span>Please Enter Bond No</span></br>"
            //}
            //var txtPanNo = $('#txtPanNo').val();
            //if (txtPanNo == 0) {
            //    validation += "<span>Please Enter Pan No</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var TransporterItems = []
            if ($scope.RegTRId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegTRId;
            angular.forEach(TransporterData, function (value, key) {

                TransporterItems.push('Insert:' + TransporterData[key].TransporterID.ID, TransporterData[key].Code, TransporterData[key].BondNo, TransporterData[key].PanNo);

            });
            BussData.TransporterItems = TransporterItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/TransporterInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegTRId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("Transporter Updated Successfully");
                    }
                    else {

                        ShowPopup("Transporter Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingTransporterMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegTRId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/TransporterView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].TransporterID.ID != "") {
                            $scope.DynamicGridTransporter.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridTransporter.push({
                                'ID': result.data[key].ID,
                                'TransporterID': { ID: result.data[key].TransporterID },
                                'Code': result.data[key].Code,
                                'BondNo': result.data[key].BondNo,
                                'PanNo': result.data[key].PanNo,
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingTransporterMaster();

        //ISO Code
        $scope.DynamicGridISO = [{ EqTypeID: "", ISOCode: ""}];
        $scope.ISOAdd = function (DynamicGridISO) {

            if (DynamicGridISO.EqTypeID == "") {
                swal("Please Select EqType Name");
                return;
            }

            $scope.DynamicGridISO.push({
                'EqTypeID': "",
                'ISOCode': ""
            });
        }
        $scope.ISORemove = function (DynamicGridISO, index, ISOID) {
            var BussData = {}
            BussData.ID = ISOID;
           
            $scope.DynamicGridISO.splice(index, 1);
            $http({
                method: 'POST',
                url: '/api/CustomsCodeAPi/ISOCodeDelete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGridISO.splice(index, ISOID);
                    $scope.FillExistingISOMaster($scope.RegISOId);
                });
            });
        }
        $scope.btnSaveISO = function (ISOData) {
            //var validation = "";
            //var ddlEquipmentType = $('#ddlEquipmentType').val();
            //if (ddlEquipmentType == "?") {
            //    validation += "<span>Please Select Equipment Type / Size</span></br>"
            //}
            //var txtISOCode = $('#txtISOCode').val();
            //if (txtISOCode == 0) {
            //    validation += "<span>Please Enter ISO Code</span></br>"
            //}

            //var txtBondNo = $('#txtBondNo').val();
            //if (txtBondNo == 0) {
            //    validation += "<span>Please Enter Bond No</span></br>"
            //}
            //var txtPanNo = $('#txtPanNo').val();
            //if (txtPanNo == 0) {
            //    validation += "<span>Please Enter Pan No</span></br>"
            //}
            //if (validation != "") {
            //    ShowPopup(validation);
            //    return false;
            //}
            var BussData = {}
            var ISOItems = []
            if ($scope.RegISOId == "")
                BussData.ID = 0;
            else
                BussData.ID = $scope.RegISOId;
            angular.forEach(ISOData, function (value, key) {

                ISOItems.push('Insert:' + ISOData[key].EqTypeID.ID, ISOData[key].ISOCode);

            });
            BussData.ISOItems = ISOItems.toString();


            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/ISOCodeInsert',
                data: JSON.stringify(BussData),

            }).then(function (result) {
                $timeout(function () {

                    $scope.RegISOId = result.data[0].ID;

                    if (BussData.ID != "") {

                        ShowPopup("ISO Code Updated Successfully");
                    }
                    else {

                        ShowPopup("ISO Code Created Successfully");
                    }

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }


                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    // $(".modal").hide();
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                // This is set in the event of an error.
                console.log(result);
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.FillExistingISOMaster = function () {
            var Datavalue = {};
            Datavalue.ID = $scope.RegISOId;
            $http({
                method: 'POST',
                url: '/api/CustomsCodeApi/ISOCodeView',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (result.data.length > 0) {

                        if (result.data[0].EqTypID != "") {
                            $scope.DynamicGridISO.splice(0, 1);
                        }

                        angular.forEach(result.data, function (value, key) {

                            $scope.DynamicGridISO.push({
                                'ID': result.data[key].ID,
                                'EqTypeID': { ID: result.data[key].EqTypeID },
                                'ISOCode': result.data[key].ISOCode
                            });

                        });
                    }
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
        }
        $scope.FillExistingISOMaster();


        $scope.CustomsCodeAllvalues = null;
        $scope.fillCustomsCodeValues = function () {
            var Datavalue = {};
            Datavalue.ID = "46"; //GeneralMaster Table seqNo
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/ModuleValues/',
                data: JSON.stringify(Datavalue)
            }).then(function (result) {
                $timeout(function () {
                    $scope.CustomsCodeAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillCustomsCodeValues();


        $("#ddlCustomsCode").change(function () {
            
            if ($("#ddlCustomsCode").val() == "160") {
                document.getElementById("divAgent").style.display = 'block';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }
            if ($("#ddlCustomsCode").val() == "161") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'block';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }
            if ($("#ddlCustomsCode").val() == "162") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                /*document.getElementById("divPackage").style.display = 'block';*/
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'block';
            }
            if ($("#ddlCustomsCode").val() == "163") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'block';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }
            if ($("#ddlCustomsCode").val() == "164") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'block';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }

            if ($("#ddlCustomsCode").val() == "165") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'block';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }
            if ($("#ddlCustomsCode").val() == "166") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'block';
                document.getElementById("divPort").style.display = 'none';
                document.getElementById("divLocation").style.display = 'none';
            }

            if ($("#ddlCustomsCode").val() == "167") {
                document.getElementById("divAgent").style.display = 'none';
                document.getElementById("divCFS").style.display = 'none';
                document.getElementById("divPackage").style.display = 'none';
                document.getElementById("divCarrier").style.display = 'none';
                document.getElementById("divTransporter").style.display = 'none';
                document.getElementById("divTerminal").style.display = 'none';
                document.getElementById("divISO").style.display = 'none';
                document.getElementById("divPort").style.display = 'block';
                document.getElementById("divLocation").style.display = 'none';
            }
            
        });

        });
        function ShowPopup(message) {
            swal(message);
        };

</script>
<style>
    .btncharge {
        padding: 8px 18px;
        margin: -4px 1px;
    }

    .form-control[disabled], .form-group .form-control[disabled], fieldset[disabled] .form-control, fieldset[disabled] .form-group .form-control {
        background-color: #eee;
    }
    .table > tbody > tr > td
    {
        white-space:nowrap!important;
    }
</style>
<div ng-app="MyApp" ng-controller="MyController">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 backbtn" style="text-align:right;">
                <a ng-click="back();" class="btn btn-fill btn-success btn-round btntop">
                    <i class="material-icons">reply</i> Back
                </a>
                @*<button type="submit" ng-click="AddNew();" class="btn btn-fill btn-warning btn-round btntop">
                    <i class="material-icons">edit</i>

                </button>*@
            </div>
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="card ">
                    <div class="card-header card-header-primary card-header-text">
                        <div class="card-text">
                            <h4 class="card-title">Customs Code</h4>
                        </div>
                    </div>
                    <div class="card-body ">
                        <div class="row" style="border:1px solid #ccc; margin-bottom:20px;">
                            <div class="col-md-6 offset-md-4">

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-3" style="font-size:16px;">Customs Code</div>

                                        <div class="col-md-5 padlr0">
                                            <select class="form-control my-select" id="ddlCustomsCode" ng-model="ddlCustomsCode" options="{ allowClear: true }" ng-options="item.GeneralName for item in CustomsCodeAllvalues track by item.ID">
                                            </select>
                                        </div>

                                    </div>
                            
                                </div>
                            </div>

                            <div class="col-md-6  offset-md-4" id="divLocation" style="display:none;">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-3" style="font-size:16px;">Location</div>

                                        <div class="col-md-5 padlr0">
                                            <select class="form-control my-select" id="ddlLocation" ng-model="ddlLocation" options="{ allowClear: true }" ng-options="item.GeoLocation for item in LocationAllvalues track by item.ID">
                                            </select>
                                        </div>

                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display:none;" id="divAgent">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Port Name</th>
                                                <th>Line Code</th>
                                                <th>Agent Code</th>
                                                <th>SO Code</th>
                                                <th>PAN No</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridAgent">
                                                <td>
                                                    <select class="form-control" id="ddlPortName" ng-model="gRow.PortName" ng-options="item.PortName for item in PortAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtLineCode" autocomplete="off" ng-model="gRow.LineCode" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtAgentCode" autocomplete="off" ng-model="gRow.AgentCode" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtSOCode" autocomplete="off" ng-model="gRow.SOCode" class="form-control" />
                                                </td>
                                                <td><input type="text" id="txtPANNo" autocomplete="off" ng-model="gRow.PanNo" class="form-control" /></td>
                                                @*<td style="display:none;"><input type="hidden" id="HDAgentID" class="form-control" ng-model="gRow.AgentID" /></td>*@
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="AgentAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="AgentRemove(DynamicGridAgent,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnPrint" name="btnSaveAgent" ng-click="btnSaveAgent(DynamicGridAgent);" value="PDF" class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegAgentId" ng-model="RegAgentId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display:none;" id="divCFS">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>CFS Name</th>
                                                <th>CFS Code</th>
                                                <th>Bond No</th>
                                                <th>IAL CODE</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridCFS">
                                                <td>
                                                    <select class="form-control" id="ddlCFSName" ng-model="gRow.CFSID" ng-options="item.CFSName for item in CFSNameAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtCFSCode" autocomplete="off" ng-model="gRow.CFSCode" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtBondNo" autocomplete="off" ng-model="gRow.BondNo" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtIALCode" autocomplete="off" ng-model="gRow.IALCode" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="CFSAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="CFSRemove(DynamicGridCFS,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnSaveCFS" name="btnSaveCFS" ng-click="btnSaveCFS(DynamicGridCFS);" class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegCFSId" ng-model="RegCFSId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divPackage">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Package Description</th>
                                                <th>Gen Code</th>
                                                <th>Mapping Code</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridPack">
                                                <td>
                                                    <input type="text" id="txtPackDes" autocomplete="off" ng-model="gRow.PackDes" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtGenCode" autocomplete="off" ng-model="gRow.GenCode" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtMappingCode" autocomplete="off" ng-model="gRow.MappingCode" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="PackAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="PackRemove($index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnSavePack" name="btnSavePack" ng-click="btnSavePack(DynamicGridPack);" class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegPackId" ng-model="RegPackId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divCarrier">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Carrier Name</th>
                                                <th>Code</th>
                                                <th>Bond No</th>
                                                <th>PAN No</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridCarrier">
                                                <td>
                                                    <select id="ddlCarrierName" ng-model="gRow.CarrierID" ng-options="item.CustomerName for item in CustomerMasterAllvalues track by item.ID" class="form-control"></select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtCode" autocomplete="off" ng-model="gRow.Code" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtBondNo" autocomplete="off" ng-model="gRow.BondNo" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtPanNo" autocomplete="off" ng-model="gRow.PanNo" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="CarrierAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="CarrierRemove(DynamicGridCarrier,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnPrint" name="btnSaveCarrier" ng-click="btnSaveCarrier(DynamicGridCarrier);" value="PDF" class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegCarrierId" ng-model="RegCarrierId" />
                            </div>
                        </div>
                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divTransporter">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Transporter Name</th>
                                                <th>Code</th>
                                                <th>Bond No</th>
                                                <th>PAN No</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridTransporter">
                                                <td>
                                                    <select class="form-control" id="ddlTransporterName" ng-model="gRow.TransporterID" ng-options="item.TransporterName for item in TransporterNameAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtCode" autocomplete="off" ng-model="gRow.Code" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtBondNo" autocomplete="off" ng-model="gRow.BondNo" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtPanNo" autocomplete="off" ng-model="gRow.PanNo" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="TransporterAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="TransporterRemove(DynamicGridTransporter,$indexg,Row.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnSaveTransporter" name="btnSaveTransporter" ng-click="btnSaveTransporter(DynamicGridTransporter);"  class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegTRId" ng-model="RegTRId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divTerminal">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Terminal Name</th>
                                                <th>Port</th>
                                                <th>Mapping Code</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridTerminal">
                                                <td>
                                                    <select class="form-control" id="ddlTerminalName" ng-model="gRow.TerminalID" ng-options="item.TerminalName for item in TerminalAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <select class="form-control" id="ddlPortName" ng-model="gRow.PortID" ng-options="item.PortName for item in PortAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtMappingCode" autocomplete="off" ng-model="gRow.MappingCode" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="TerminalAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="TerminalRemove(DynamicGridTerminal,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnSaveTerminal" name="btnSaveTerminal" ng-click="btnSaveTerminal(DynamicGridTerminal);" value="PDF" class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegTerminalId" ng-model="RegTerminalId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divISO">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Equipment Type & Size</th>
                                                <th>ISO Code</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridISO">
                                                <td>
                                                    <select id="ddlEquipmentType" ng-model="gRow.EqTypeID" ng-options="item.EqType for item in EqTypeNameAllvalues track by item.ID" class="form-control"></select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtISOCode" autocomplete="off" ng-model="gRow.ISOCode" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="ISOAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="ISORemove(DynamicGridISO,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnSaveISO" name="btnSaveISO" ng-click="btnSaveISO(DynamicGridISO);"  class="btn btn-fill btn-primary btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegISOId" ng-model="RegISOId" />
                            </div>
                        </div>

                        <div class="row" style="border: 1px solid #ccc; padding-top: 15px; margin-top: 20px; display: none;" id="divPort">
                            <div class="col-md-12">
                                <div class="material-datatables">

                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Port Name</th>
                                                <th>Un Code</th>
                                                <th>Floppy Code</th>
                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="gRow in DynamicGridPort">
                                                <td>
                                                    <select class="form-control" id="ddlPortName" ng-model="gRow.PortID" ng-options="item.PortName for item in PortAllvalues track by item.ID">
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" id="txtUnCode" autocomplete="off" ng-model="gRow.UNCode" class="form-control" />
                                                </td>
                                                <td>
                                                    <input type="text" id="txtFloppyCode" autocomplete="off" ng-model="gRow.FloppyCode" class="form-control" />
                                                </td>
                                                <td class="td-actions text-right actwid">
                                                    <button type="button" rel="tooltip" ng-if="$last" ng-click="PortAdd(gRow)" class="btn btn-primary btn-round" data-original-title="" title="">
                                                        <i class="material-icons">add</i>
                                                    </button>
                                                    <button type="button" rel="tooltip" ng-if="!$last" ng-click="PortRemove(DynamicGridPort,$index,gRow.ID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                        <i class="material-icons">delete</i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="col-md-12" style="text-align:right;">
                                <button type="submit" id="btnPrint" name="btnSavePort" ng-click="btnSavePort(DynamicGridPort);" value="PDF" class="btn btn-fill btn-success btntop">
                                    <i class="material-icons">save</i>
                                    Save
                                </button>
                                <input type="hidden" id="RegPortId" ng-model="RegPortId" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
<script>
    $(document).ready(function () {
        // Initialise the wizard
        demo.initMaterialWizard();
        setTimeout(function () {
            $('.card.card-wizard').addClass('active');
        }, 600);
    });
</script>
<script>
    $(document).ready(function () {
        // initialise Datetimepicker and Sliders
        $('.datepicker').datetimepicker({
            format: 'DD/MM/YYYY',

        });
    });
</script>

