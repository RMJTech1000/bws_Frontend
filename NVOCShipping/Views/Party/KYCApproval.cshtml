@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.full.min.js"></script>
<link href="~/assets/css/common.css" rel="stylesheet" />
<style>
    .nav.nav-tabs.demtab {
        display: inline-flex
    }

    .nav-tabs.demtab > li {
        width: 113px !important;
    }

    .nav-tabs.demtab li a:after {
        border-bottom: none !important;
    }

    .nav-tabs.demtab li a:before {
        border-top: none !important;
    }

    .nav-tabs.demtab .nav-link.active {
        background-color: #e91e63 !important;
    }

    .bmd-form-group .checkbox label, .bmd-form-group .radio label, .bmd-form-group label {
        font-size: 12px !important;
        line-height: 0 !important;
    }

    .form-check, label {
        line-height: 0 !important;
    }

    .btndet {
        padding: 7px 6px !important;
        margin-top: 30px !important;
    }

    .table.dem > tbody > tr > td {
        font-size: 11px !important;
        padding: 6px 5px !important;
        color: #000;
        font-weight: 500;
    }

        .table.dem > tbody > tr > td.blue {
            color: #0759d4;
        }

        .table.dem > tbody > tr > td.brown {
            color: #800303;
        }
</style>
<style>
    label.chkbox {
        line-height: 1;
    }
    /*input[type=checkbox]
    {

        width: 18px;
        height: 18px;
        cursor:pointer;
    }
    .form-check .form-check-label
    {
        padding-left:0;
    }*/
    .col-md-5.lbl2 {
        width: 100px !important;
    }

    .lblfont {
        width: 100px !important;
    }

    .card-wizard {
        box-shadow: none !important;
        border: 1px solid #ccc;
    }

    .form-group {
        padding-bottom: 5px !important;
    }

    .ml-auto, .mx-auto {
        margin-top: 20px;
    }

    .card .card-body .download {
        margin-top: -24px !important;
        margin-bottom: -18px !important;
    }

        .card .card-body .download .btn {
            padding: 11px 17px;
            font-size: 14px;
        }
</style>
<script type="text/javascript">

    LayoutApp.controller('MyController', function ($scope, $http, Upload, $timeout) {
        $scope.HDArrayIndex = "";
        $(document).ready(function () {
            $('.my-select').select2({
                placeholder: "--Select--",
                allowClear: true,
                width: '100%'
            });

        });

        $scope.CustomerTypeAllvalues = null;
        $scope.fillCustomerTypeValues = function () {
            var Datavalue = {};
            Datavalue.ID = "18"; //GeneralMaster Table seqNo
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/ModuleValues/',
                data: JSON.stringify(Datavalue)
            }).then(function (result) {
                $timeout(function () {
                    $scope.CustomerTypeAllvalues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillCustomerTypeValues();

        $scope.LoginRoleAllTypeValues = null;
        $scope.fillLoginRoleAllTypeValues = function () {
            var Datavalue = {};
            Datavalue.ID = "41"; //GeneralMaster Table seqNo
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/ModuleValues/',
                data: JSON.stringify(Datavalue)
            }).then(function (result) {
                $timeout(function () {
                    $scope.LoginRoleAllTypeValues = result.data;

                });
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        };
        $scope.fillLoginRoleAllTypeValues();

        $scope.PartyTypeAllValues = null;
        $scope.fillPartyTypeAllValues = function () {
            $http({
                method: 'POST',
                url: '/api/KYCApi/kycPartyDD/',
                data: {}
            }).then(function (result) {
                $timeout(function () {

                    $scope.PartyTypeAllValues = result.data;

                });
            });
        };
      //  $scope.fillPartyTypeAllValues();


        //Country DropDown//
        $scope.Country = null;
        $scope.fillCountry = function () {

            $http({
                method: 'POST',
                url: '/api/Home/countryBind/',
                data: {}
            }).then(function (result) {
                $timeout(function () {

                    $scope.Country = result.data;

                });
            });
        };
        $scope.fillCountry();

        //City DropDown//
        $scope.LocCity = null;
        $scope.fillLocCity = function () {
            $http({
                method: 'POST',
                url: '/api/Home/cityBind/',
                data: {}
            }).then(function (result) {
                $timeout(function () {

                    $scope.LocCity = result.data;

                });
            });
        };
        $scope.fillLocCity();
        //City DropDown//

        //State DropDown//
        $scope.LocState = null;
        $scope.fillLocState = function () {
            $http({
                method: 'POST',
                url: '/api/Home/stateBind/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.LocState = result.data;
                });
            });
        };
        $scope.fillLocState();
        //State DropDown//


        $scope.AgencyMasterList = null;
        $scope.FilAgencyMasterList = function () {
            $http({
                method: 'POST',
                url: '/api/CommonAccessApi/AgencyMaster/',
                data: {}
            }).then(function (result) {
                $timeout(function () {
                    $scope.AgencyMasterList = result.data;

                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected. Please reconnect and try again.");
                }
            });

        };
        $scope.FilAgencyMasterList();

        $(document).ready(function () {

            var queryString = new Array();
            if (window.location.search.split('?').length > 1) {
                var params = window.location.search.split('?')[1].split('&');
                for (var i = 0; i < params.length; i++) {
                    var key = params[i].split('=')[0];
                    var value = decodeURIComponent(params[i].split('=')[1]);
                    queryString[key] = value;
                }
            }
            if (queryString["CustReg"] != null) {
                $scope.HdCusID = queryString["CustReg"].toString();
                $scope.BindCustomer(queryString["CustReg"].toString());
                $scope.BindAgencyCustomer(queryString["CustReg"].toString());
               
                //$scope.fillBusinessTypeBind(queryString["CustReg"].toString());
            }
        });

        $scope.BindCustomer = function (CusID) {

            var Datavalue = {};
            var id = CusID;
            if (id == "" || id == null)
                Datavalue.ID = 0;
            else
                Datavalue.ID = CusID;


            $http({
                method: 'POST',
                url: '/api/KYCApi/ApprovalValues/',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {

                    if (Datavalue.ID != "")
                    {
                        $scope.HdCusID = result.data[0].ID;
                        $scope.txtPartyName = result.data[0].CompanyName;
                        $scope.ddlCountry = { ID: result.data[0].CountryID };
                        //$scope.ddlLocCity = { ID: result.data[0].CityID };
                        //$scope.ddlLocState = { ID: result.data[0].StateID };
                        $scope.txtCity = result.data[0].CityName;
                        $scope.txtState = result.data[0].StateName;
                        $scope.txtPinCode = result.data[0].PinCode;
                        $scope.txtTel = result.data[0].TelNo;
                        $scope.txtFax = result.data[0].FaxNo;
                        $scope.txtEmailID = result.data[0].MailId;
                        $scope.txtTaxNo = result.data[0].TaxNo;
                        $scope.txtPanNo = result.data[0].PanNo;
                        $scope.txtTANNo = result.data[0].TanNo;
                        $scope.txtIECCode = result.data[0].IECCode;
                        $scope.txtAddress = result.data[0].Address;
                        $scope.txtUserID = result.data[0].UserId;
                        $scope.IsForwarder = result.data[0].IsForwarder;
                        $scope.IsShipper = result.data[0].IsShipper;
                        $scope.ddlCustomerType = { ID: result.data[0].CustomerType };
                        $scope.txtPassword = result.data[0].Password;

                        if (result.data[0].StatusID != "2" && result.data[0].StatusID != "3")
                        {
                            document.getElementById("BtnApprove").disabled = false;
                            document.getElementById("BtnApprove").style.cursor = 'allowed';
                            document.getElementById("BtnReject").disabled = false;
                            document.getElementById("BtnReject").style.cursor = 'allowed';
                        }
                        else {
             
                            document.getElementById("BtnApprove").disabled = true;
                            document.getElementById("BtnApprove").style.cursor = 'not-allowed';
                            document.getElementById("BtnReject").disabled = true;
                            document.getElementById("BtnReject").style.cursor = 'not-allowed';
                        }
                    }
                    else {
                        $('#txtCustomerName').val('');
                        $('#ddlCusType').val('');
                        $('#ddlCountry').val('');
                        $('#ddlCustomerType').val('');
                    }

                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
            $scope.back = function () {

                window.location = "/Party/CustomerView";
            }

        }


        $scope.BindAgencyCustomer = function (CusID) {

            var Datavalue = {};
            var id = CusID;
            if (id == "" || id == null)
                Datavalue.ID = 0;
            else
                Datavalue.ID = CusID;


            $http({
                method: 'POST',
                url: '/api/KYCApi/ApprovalAgencyValues/',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {
                    $scope.DynamicGrid = result.data;
                });
            }, function (result) {

                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            });
            $scope.back = function () {

                window.location = "/Party/CustomerView";
            }

        }

        $scope.BusinessType = null;
        $scope.fillBusinessType = function () {
            $http({
                method: 'POST',
                url: '/api/PartyApi/BusinessTypes/',
                data: {}
            }).then(function (result) {
                $timeout(function () {

                    $scope.BusinessType = result.data;

                });
            });
        };
        $scope.fillBusinessType();
        $scope.ChkboxList = [];
        $scope.BusChkboxRec = function (chkvalues) {
            if (chkvalues)
                $scope.ChkboxList.push(chkvalues);
            else
                $scope.ChkboxList.splice($scope.ChkboxList.indexOf(chkvalues), 1);
        }

        $scope.btnapproval = function (data) {

            $('#overlay').show();
            var Items = [];
            angular.forEach(data, function (value, key)
            {
                var intBID = data[key].BID;
                if (typeof data[key].BID == "undefined") {
                    intBID = 0;
                }

                Items.push('Insert:' + intBID, data[key].AgencyID, data[key].Agency
                );
            });

            var BussData = {};
            BussData.ID = $scope.HdCusID;
            BussData.Password = $("#txtPassword").val();
            BussData.Items = Items.toString();

            $http({
                method: 'POST',
                url: "/api/KYCApi/InsertKYCApproval/",
                data: JSON.stringify(BussData),
            }).then(function (result) {
                if (result.data.length > 0) {
                    if (result.data[0].AlertMessageID == 1)
                    {
                        ShowPopup(result.data[0].AlertMessage);
                        $('#overlay').hide();
                        //$scope.btnSendEmailAlert();
                    }

                }
                return false;

            });
        }

        $scope.btnreject = function () {


            $('#overlay').fadeIn().delay(100).fadeOut();
            var BussData = {};
            BussData.ID = $scope.HdCusID;
            $http({
                method: 'POST',
                url: "/api/KYCApi/InsertKYCReject/",
                data: JSON.stringify(BussData),
            }).then(function (result) {
                if (result.data.length > 0) {
                    if (result.data[0].AlertMessageID == 1) {
                        ShowPopup(result.data[0].AlertMessage);
                        $scope.btnSendEmailRejectAlert();
                    }
                    
                    }
                return false;

            });
        }

        $scope.btnSendEmailAlert = function () {

            $("#overlay").show();
            var Datavalue = {};
            Datavalue.MailId = $scope.txtEmailID
            Datavalue.CompanyName = $scope.txtPartyName;
 
            $http({
                method: 'POST',
                url: '/api/KYCApi/EmailsendingKYC/',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {
                    if (result.data.length > 0) {
                        ShowPopup(result.data[0].AlertMessage);
                        $("#overlay").hide();
                    }
                });
                $("#overlay").hide();
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        }
        $scope.btnSendEmailRejectAlert = function () {

            $("#overlay").show();
            var Datavalue = {};


            Datavalue.MailId = $scope.txtEmailID
            Datavalue.CompanyName = $scope.txtPartyName;

            $http({
                method: 'POST',
                url: '/api/KYCApi/EmailsendingKYCReject/',
                data: JSON.stringify(Datavalue),
            }).then(function (result) {
                $timeout(function () {
                    if (result.data.length > 0) {
                        ShowPopup(result.data[0].AlertMessage);
                        $("#overlay").hide();
                    }
                });
                $("#overlay").hide();
            }, function (result) {
                if (result.status == 500) {
                    ShowPopup("Sorry no internet connectivity Application Error.");
                }
                else if (result.status == 404) {
                    ShowPopup("Sorry no internet connectivity page not found.");
                }
                if (result.status > 0) {
                    var errorMsg = result.status + ': ' + result.data;
                    ShowPopup("Sorry no internet connectivity detected.Please reconnect and try  again.");
                }
            }).catch(function (result) {
                ShowPopup('There has been an error: ' + result);
            });
        }

        $scope.DynamicGrid = [{ BID: "", AgencyID: "", Agency: "" }];

        $scope.DynamicGrid.splice(0, 1);


        $scope.Add = function (DynamicGrid) {

            var BussData = {}
            BussData.AgencyID = $("#ddlAgency").val();
            BussData.Agency = $("#ddlAgency option:selected").text();
            BussData.ID = $scope.HdCusID;
            $http({
                method: 'POST',
           
                url: '/api/KYCApi/InsertKYC_Agency_Approval/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.BindAgencyCustomer($scope.HdCusID);
                    swal()

                });
            });
            $("#ddlAgency").val(0);
         

        }
        $scope.Remove = function (AgencyID) {

            var BussData = {}
            BussData.ID = $scope.HdCusID;
            BussData.AgencyID = AgencyID;
           
            $http({
                method: 'POST',
                url: '/api/KYCApi/InsertKYC_Agency_Delete/',
                data: JSON.stringify(BussData),
            }).then(function (result) {
                $timeout(function () {
                    $scope.BindAgencyCustomer($scope.HdCusID);
                    ShowPopup(result.data[0].AlertMessage);
                });
            });

        }
    });
    function ShowPopup(message) {
        swal(message);
    };
</script>

<div ng-app="MyApp" ng-controller="MyController">

    <div id="overlay" style="display:none;">
        <div class="loadcontainer">
            <div class="spinner"></div>
            <p>Loading Please Wait</p>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 backbtn" style="text-align:right;">
                <a href="/Party/KYCApprovalView" class="btn btn-fill btn-success btn-round btntop">
                    <i class="material-icons">reply</i> Back

                </a>

            </div>
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="card ">
                    <div class="card-header card-header-primary card-header-text">
                        <div class="card-text">
                            <h4 class="card-title">KYC Approval</h4>
                        </div>
                    </div>
                    <div class="card-body ">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="nav-tabs-navigation">
                                    <div class="nav-tabs-wrapper">

                                        <ul class="nav nav-tabs demtab" data-tabs="tabs" style="width:100%; margin-top:22px!important;">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="customerdetails" href="#Customerdetails" data-toggle="tab">
                                                    Party Details
                                                    <div class="ripple-container"></div>
                                                </a>
                                            </li>
                                            @*<li class="nav-item">
                                                    <a class="nav-link"  id="attachments" href="#Attachments" data-toggle="tab">
                                                        Attachments
                                                        <div class="ripple-container"></div>
                                                    </a>
                                                </li>*@

                                        </ul>
                                    </div>
                                </div>
                                <div class="tab-content" style="padding:0;">
                                    <div class="tab-pane active" id="Customerdetails">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-9" style="border-right:3px solid #dedcdd;">

                                                        <div class="col-md-12">
                                                            <h5 style="font-size:16px;color:#e91e63;border-bottom:3px solid #e91e63;width: 105px;font-weight:bold;">Branch Details</h5>
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <div class="row">
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="col-md-12 padlr0">
                                                                                            <label>Party Name</label>
                                                                                            @*<select id="ddlPartyName" ng-model="ddlPartyName" options="{ allowClear: true }" ng-options="item.CompanyName for item in PartyTypeAllValues track by item.ID" class="form-control my-select"></select>*@
                                                                                            <input type="text" class="form-control" id="txtPartyName" ng-model="txtPartyName" />
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="col-md-12 padlr0">
                                                                                            <label>Country</label>
                                                                                            <select id="ddlCountry" class="form-control my-select" ng-model="ddlCountry" ng-options="item.CountryName for item in Country track by item.ID"></select>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>City</label>
                                                                                                @*<select id="ddlLocCity" ng-model="ddlLocCity" class="form-control my-select" ng-options="item.CityName for item in LocCity track by item.ID"></select>*@
                                                                                                <input type="text" class="form-control" id="txtCity" ng-model="txtCity" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>State</label>
                                                                                                @*<select id="ddlLocState" ng-model="ddlLocState" class="form-control my-select" ng-options="item.StateName for item in LocState track by item.ID">
                                                                                                    </select>*@
                                                                                                <input type="text" class="form-control" id="txtState" ng-model="txtState" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Pincode</label>
                                                                                                <input type="text" id="txtPinCode" ng-model="txtPinCode" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Tel</label>
                                                                                                <input type="text" id="txtTel" autocomplete="off" ng-model="txtTel" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Fax</label>
                                                                                                <input type="text" id="txtFax" autocomplete="off" ng-model="txtFax" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Email ID</label>
                                                                                                <input type="text" id="txtEmailID" autocomplete="off" ng-model="txtEmailID" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Tax No</label>
                                                                                                <input type="text" id="txtTaxNo" autocomplete="off" ng-model="txtTaxNo" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>PAN No</label>
                                                                                                <input type="text" id="txtPanNo" autocomplete="off" ng-model="txtPanNo" class="form-control" />
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>TAN No</label>
                                                                                                <input type="text" id="txtTANNo" autocomplete="off" ng-model="txtTANNo" class="form-control" />
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>IEC Code</label>
                                                                                                <input type="text" id="txtIECCode" autocomplete="off" ng-model="txtIECCode" class="form-control" />
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-md-12 padl0">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <label>Address</label>
                                                                                                <textarea id="txtAddress" ng-model="txtAddress" class="form-control" rows="4"></textarea>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="col-md-6" style="border-right: 1px solid #ccc;">
                                                            <div class="row">
                                                                <div class="col-md-8">
                                                                    <div class="form-group">
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <label>Agency*</label>
                                                                                <input type="hidden" id="HDIDv" class="form-control" ng-model="BID" />
                                                                                <input type="hidden" id="HDArrayIndex" class="form-control" ng-model="HDArrayIndex" />
                                                                                <select class="form-control my-select" id="ddlAgency" ng-model="iRow.Agency" ng-options="item.AgencyName for item in AgencyMasterList track by item.ID">
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="col-md-2">
                                                                    <div class="row">
                                                                        <div class="col-md-12" style="margin-top:30px;">
                                                                            <button type="submit" ng-click="Add(gRow)" class="btn btn-fill btn-warning searchbtn">
                                                                                <i class="material-icons"></i>
                                                                                ADD
                                                                            </button>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12">

                                                                    <h5 class="cardtitle">Agency Details</h5>
                                                                </div>
                                                                <div class="col-md-10">
                                                                    <div class="material-datatables">

                                                                        <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>S.No</th>
                                                                                    <th>Agency</th>
                                                                                    <th class="disabled-sorting text-right actwid">Action</th>
                                                                                </tr>
                                                                            </thead>


                                                                            <tbody>

                                                                                <tr class="gridbody1" ng-repeat="gRow in DynamicGrid">
                                                                                    <td>{{$index+1}}</td>

                                                                                    <td>
                                                                                        {{gRow.Agency}}

                                                                                        <input type="hidden" id="HDAgencyID" class="form-control" ng-model="gRow.AgencyID" />
                                                                                    </td>


                                                                                    <td class="td-actions text-right bindgrid">
                                                                                        <button type="button" rel="tooltip" ng-click="Remove(gRow.AgencyID)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                                                            <i class="material-icons">delete</i>
                                                                                        </button>


                                                                                        <input type="hidden" id="HBID" class="form-control" ng-model="gRow.BID" />
                                                                                    </td>

                                                                                </tr>


                                                                            </tbody>
                                                                        </table>

                                                                    </div>
                                                                </div>


                                                            </div>
                                                        </div>


                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <h5 style="margin-bottom:0; margin-top:-3px; font-size:15px;color: #636161; font-weight: 600;text-decoration: underline;">Business Type <span class="man">*</span></h5>
                                                            </div>
                                                            <div class="col-md-12">

                                                                <div class="form-group">
                                                                    <div class="row">
                                                                        <div class="col-md-4">
                                                                            <label>Shipper</label>
                                                                        </div>
                                                                        <div class="col-md-1">:</div>
                                                                        <div class="col-md-5 input-field">
                                                                            <div>
                                                                                <label>
                                                                                    <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-checked="IsShipper== 1" id="IsShipper" ng-model="IsShipper" value="IsShipper">
                                                                                    <span class="toggle"></span>
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="col-md-12">

                                                                <div class="form-group">
                                                                    <div class="row">
                                                                        <div class="col-md-4">
                                                                            <label>Forwarder</label>
                                                                        </div>
                                                                        <div class="col-md-1">:</div>
                                                                        <div class="col-md-5 input-field">
                                                                            <div>
                                                                                <label>
                                                                                    <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-checked="IsForwarder== 1" id="IsForwarder" ng-model="IsForwarder" value="IsForwarder">
                                                                                    <span class="toggle"></span>
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <label>Login Role</label>

                                                                            <select id="ddlCustomerType" ng-model="ddlCustomerType" class="form-control my-select" ng-options="item.GeneralName for item in CustomerTypeAllvalues track by item.ID"></select>
                                                                            @*<select id="ddlRole" ng-model="ddlRole" class="form-control my-select" options="{ allowClear: true }" ng-options="item.GeneralName for item in LoginRoleAllTypeValues track by item.ID"></select>*@
                                                                        </div>
                                                                        <div class="col-md-12">
                                                                            <label>User Name</label>
                                                                            <input type="text" id="txtUserID" autocomplete="off" ng-model="txtUserID" class="form-control" />
                                                                        </div>
                                                                        <div class="col-md-12">
                                                                            <label>Password</label>
                                                                            <input type="text" id="txtPassword" ng-model="txtPassword" class="form-control" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>


                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 txtright">
                                                <button type="submit" id="BtnApprove" ng-click="btnapproval(DynamicGrid);" class="btn btn-fill btn-success">
                                                    <i class="material-icons">save</i>
                                                    APPROVAL
                                                </button>
                                                <button type="submit" id="BtnReject" ng-click="btnreject();" class="btn btn-fill btn-danger">
                                                    <i class="material-icons">close</i>
                                                    REJECT
                                                </button>
                                                <input type="hidden" id="HdCusID" ng-model="HdCusID" />
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <!--<div class="tab-pane" id="Attachments">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label>FileName</label>
                                                                <input type="text" ng-model="txtFileName" id="txtFileName" />
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label>Attachments</label>


                                                                <div class="input-group">
                                                                    <span class="input-group-addon"><i class="fa fa-upload"></i></span>
                                                                    <input type="file" style='position:absolute;z-index:2;top:0;left:0;filter: alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; opacity:0;background-color:transparent;color:transparent;' name="file_source" size="40" ngf-select="UploadFiles($files)" onchange='$("#upload-file-info").html($(this).val());'>

                                                                    <span class='label label-info' id="upload-file-info"></span>
                                                                </div>


                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->
                                    @*<div class="row">

                                            <div class="col-md-12">
                                                <div class="material-datatables">

                                                    <table class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                                                        <thead>
                                                            <tr>
                                                                <th>S.No</th>
                                                                <th> File Name</th>
                                                                <th>Attahed File</th>


                                                                <th class="disabled-sorting text-right actwid">Actions</th>
                                                            </tr>
                                                        </thead>

                                                        <tbody>
                                                            <tr ng-repeat="GrowA in DynamicGridFileAttahed">
                                                                <td>{{$index+1}}</td>
                                                                <td>{{GrowA.FileName}}</td>
                                                                <td>{{GrowA.File}}</td>


                                                                <td class="td-actions text-right actwid">

                                                                    <button type="button" rel="tooltip" ng-click="RemoveAttach(DynamicGridFileAttahed,$index,GrowA.ID,GrowA)" class="btn btn-danger btn-round" data-original-title="" title="">
                                                                        <i class="material-icons">delete</i>
                                                                    </button>
                                                                    <input type="hidden" id="HDID" class="form-control" ng-model="GrowA.ID" />
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>

                                                </div>
                                            </div>


                                        </div>*@
                                    <!--<div class="row">
                                            <div class="col-md-12 txtright">
                                                <button type="submit" ng-click="SaveAttachedFile(DynamicGridFileAttahed);" class="btn btn-fill btn-success">
                                                    <i class="material-icons">save</i>
                                                    Save
                                                </button>
                                                <input type="hidden" id="HdCusID" ng-model="HdCusID" />
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>

                                    </div>-->
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<script>
    $(document).ready(function () {
        // Initialise the wizard
        demo.initMaterialWizard();
        setTimeout(function () {
            $('.card.card-wizard').addClass('active');
        }, 600);
    });
</script>
<script>
    $(document).ready(function () {
        // initialise Datetimepicker and Sliders
        $('.datepicker').datetimepicker({
            format: 'DD/MM/YYYY',

        });
    });
</script>